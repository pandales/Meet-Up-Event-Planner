<md-content>
    <form id="addEventForm" name="addEventForm">
        <h2> Create an event </h2>
        <progress-form form="addEventForm"></progress-form>
        <md-input-container>
            <label>Name of the event</label>
            <input name="eventName"
                   ng-model="form.event.name"
                   required
                   autofocus>
            <div ng-messages="addEventForm.eventName.$error" ng-show="addEventForm.eventName.$touched" role="alert">
                <div ng-message="required">The event name is required</div>
            </div>
        </md-input-container>

        <md-autocomplete md-search-text="form.event.type"
                         md-floating-label="What is your event about?"
                         placeholder="What is your event about?"
                         md-selected-item="form.event.typeSelected"
                         md-items="item in form.suggestEventType(form.event.type)"
                         md-item-text="item"
                         md-input-name="type"
                         md-input-id="type"
                         required>
            <md-item-template>
                <span md-highlight-text="form.event.type">{{item}}</span>
            </md-item-template>
            <div ng-messages="addEventForm.type.$error" ng-show="addEventForm.type.$touched" role="alert">
                <div ng-message="required">The event type is required</div>
            </div>

        </md-autocomplete>


        <md-input-container>
            <label for="eventHost">Event Host</label>
            <input name="eventHost"
                   id="eventHost"
                   autocomplete="name"
                   ng-model="form.event.host"
                   required>
            <div ng-messages="addEventForm.eventHost.$error" ng-show="addEventForm.eventHost.$touched" role="alert">
                <div ng-message="required">The event host is required</div>
            </div>
        </md-input-container>


        <google-location-input ng-model="form.event.address"
                               form="addEventForm"
                               label="Address"
                               id="address"
                               name="address"
                               placeholder="insert a location"
                               required></google-location-input>


        <div class="event-date">
            <h5>When will the event be?</h5>
            <panda-datetime name="startDate"
                            ng-model="form.event.startDate"
                            id="startDate"
                            min="form.today"
                            label="Start date"
                            required="true"></panda-datetime>

            <md-input-container class="datetime">

                <label for="endDate">End date</label>
                <input type="datetime-local"
                       name="endDate"
                       ng-model="form.event.endDate"
                       ng-disabled="!form.event.startDate"
                       id="endDate"
                       min="form.event.startDate"
                       class=" md-input"
                       required>
                <div ng-messages="addEventForm.endDate.$error" ng-show="addEventForm.endDate.$touched" role="alert">
                    <div ng-message="required">The end date is required</div>
                </div>
            </md-input-container>
        </div>

        <md-input-container>
            <label for="guests">Guest List</label>
            <textarea ng-model="form.event.guests"
                      id="guests"
                      name="guests"
                      placeholder="guest1@domain.com, guest2@domain.com ..."
                      required="">

            </textarea>
            <div ng-messages="addEventForm.guests.$error"
                 ng-show="addEventForm.guests.$touched"
                 role="alert">
                <div ng-message="required">You must invite to some people using their email addresses</div>
            </div>
        </md-input-container>

        <md-input-container>
            <label for="message">Message to guests (optional)</label>
            <textarea name="message"
                      id="message"
                      ng-model="form.event.message">
            </textarea>
        </md-input-container>
        <div class="actions">
            <md-button class="md-raised"
                       ng-disabled="addEventForm.$invalid"
                       ng-click="form.add()">
                Save
            </md-button>
        </div>

    </form>
</md-content>
